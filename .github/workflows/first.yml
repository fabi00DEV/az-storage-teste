# File: .github/workflows/OIDC_workflow.yml
name: AzureLoginSample
on: [push]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:

    - uses: actions/checkout@v3

    - uses: rnakamine/azure-files-upload@v1.0.0
      with:
        connection_string: ${{ secrets.AZURE_STORAGE_CONNECTION_STRING }}
        source: ./templates
        destination: https://templatez.file.core.windows.net/teste
        extra_args: '--account-name templatez --destination-path subpasta'

    
    # - name: Acessar diret√≥rio raiz do projeto
    #   run: |
    #     cd ${{ github.workspace }}
    #     ls

    
    # - uses: LanceMcCarthy/Action-AzureBlobUpload@v2
    #   name: Azure Blob Upload with Destination folder defined
    #   with:
    #     connection_string: ${{ secrets.AZURE_STORAGE_CONNECTION_STRING }}
    #     container_name: templatez
    #     source_folder: src/templates
    #     destination_folder: teste
    #     clean_destination_folder: true